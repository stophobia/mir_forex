import{G as _}from"./GeneralPage-60f44c69.js";import{_ as r}from"./_plugin-vue_export-helper-c27b6911.js";import{o as n,N as h,i as p,a as t,c as i,h as u,F as m,t as c,p as f,b as g}from"./index-67e0acd5.js";import"./logo_white-d550d220.js";const l=s=>(f("data-v-66c83afa"),s=s(),g(),s),v={class:"d-flex"},w={class:"col-12"},b=l(()=>t("h1",{class:"fw-bolder mb-3"},"Заявки",-1)),y={class:"row"},D={class:"col-12"},k={class:"card shadow w-100"},j=l(()=>t("div",{class:"mb-4 d-flex"},null,-1)),x={class:"mb-0"},B={class:"table table-hover"},C=l(()=>t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"ФИО"),t("th",{scope:"col"},"Тип"),t("th",{scope:"col"},"Номер"),t("th",{scope:"col"},"Созданно")])],-1)),I=["onClick"],L={scope:"row"},R={data(){return{data:[]}},mounted(){this.loadData()},methods:{formatDate(s){var o=new Date(s),a=""+(o.getMonth()+1),e=""+o.getDate(),d=o.getFullYear();return a.length<2&&(a="0"+a),e.length<2&&(e="0"+e),[d,a,e].join("/")},open(s){this.$router.push("/admin/request/"+s)},async loadData(){const s=await fetch("/api.php?action=getAllRequest",{headers:{"Content-Type":"application/json"},method:"get"});try{const o=await s.json();o.length>0&&(this.data=o)}catch{console.log("error")}}}},S=Object.assign(R,{__name:"RequestListView",setup(s){return(o,a)=>(n(),h(_,null,{default:p(()=>[t("div",v,[t("div",w,[b,t("form",null,[t("div",y,[t("div",D,[t("div",k,[j,t("div",x,[t("table",B,[C,t("tbody",null,[(n(!0),i(m,null,u(o.data,e=>(n(),i("tr",{key:e.id,onClick:d=>o.open(e.id)},[t("th",L,c(e.id),1),t("td",null,c(e.username),1),t("td",null,c(e.type),1),t("td",null,c(e.phone_number),1),t("td",null,c(o.formatDate(e.created_at)),1)],8,I))),128))])])])])])])])])])]),_:1}))}}),$=r(S,[["__scopeId","data-v-66c83afa"]]);export{$ as default};
